@page "/providers"
@using WebWasm.Components

<PageTitle>Providers</PageTitle>

<div class="page-header">
	<h1>📦 Providers</h1>
	<p class="page-subtitle">Manage service providers and loading places</p>
</div>

<div class="content-card">
	<div class="card-header">
		<h3>Producer List</h3>
		<button class="btn-primary" @onclick="OpenAddProducerModal">+ Add Producer</button>
	</div>
	<ProducersTable @ref="_producersTableRef"
					Producers="@_producers"
					Companies="@_companies"
					OnEditProducer="@HandleEditProducer"
					OnDeleteProducer="@HandleDeleteProducer"
					OnAddLoadingPlace="@HandleAddLoadingPlace"
					OnEditLoadingPlace="@HandleEditLoadingPlace"
					OnDeleteLoadingPlace="@HandleDeleteLoadingPlace" />
</div>

<ProducerModal IsOpen="@_isProducerModalOpen"
			   EditingProducer="@_editingProducer"
			   Companies="@_companies"
			   OnClose="@CloseProducerModal"
			   OnSubmit="@HandleProducerSubmit" />

<LoadingPlaceModal IsOpen="@_isLoadingPlaceModalOpen"
				   EditingLoadingPlace="@_editingLoadingPlace"
				   MaterialTypes="@_materialTypes"
				   OnClose="@CloseLoadingPlaceModal"
				   OnSubmit="@HandleLoadingPlaceSubmit" />

<ConfirmDialog IsOpen="@_showConfirmDialog"
			   Title="@_confirmTitle"
			   Message="@_confirmMessage"
			   ConfirmText="Delete"
			   CancelText="Cancel"
			   OnConfirm="@HandleConfirm"
			   OnCancel="@CloseConfirmDialog" />
