@page "/users"

<PageTitle>Users</PageTitle>

<div class="page-header">
    <h1>👥 Users</h1>
    <p class="page-subtitle">Manage user accounts and permissions</p>
</div>

<div class="stats-grid">
    <div class="stat-card">
        <span class="stat-icon">👤</span>
        <div class="stat-content">
            <span class="stat-value">@_users.Length</span>
            <span class="stat-label">Total Users</span>
        </div>
    </div>
    <div class="stat-card active">
        <span class="stat-icon">✅</span>
        <div class="stat-content">
            <span class="stat-value">@_users.Count(u => u.Status == "Active")</span>
            <span class="stat-label">Active</span>
        </div>
    </div>
    <div class="stat-card">
        <span class="stat-icon">🔒</span>
        <div class="stat-content">
            <span class="stat-value">@_users.Count(u => u.Role == "Admin")</span>
            <span class="stat-label">Admins</span>
        </div>
    </div>
</div>

<div class="content-card">
    <div class="card-header">
        <h3>User List</h3>
        <button class="btn-primary">+ Add User</button>
    </div>
    
    @if (_users == null || _users.Length == 0)
    {
        <p class="empty-state"><em>Loading...</em></p>
    }
    else
    {
        <div class="table-container">
            <table class="styled-table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Role</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var user in _users)
                    {
                        <tr>
                            <td>
                                <div class="user-cell">
                                    <span class="user-avatar-sm">@user.Name[0]</span>
                                    @user.Name
                                </div>
                            </td>
                            <td>@user.Email</td>
                            <td><span class="badge role-@user.Role.ToLower()">@user.Role</span></td>
                            <td><span class="status-badge @user.Status.ToLower()">@user.Status</span></td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }
</div>

<style>
    .page-header {
        margin-bottom: 2rem;
    }
    
    .page-header h1 {
        margin-bottom: 0.5rem;
    }
    
    .page-subtitle {
        color: var(--text-secondary, #7A7A7A);
        margin: 0;
    }
    
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 1rem;
        margin-bottom: 2rem;
    }
    
    .stat-card {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1.5rem;
        background: var(--bg-surface, #FAF7F2);
        border-radius: 16px;
        box-shadow: 0 4px 20px rgba(139, 115, 85, 0.1);
    }
    
    .stat-icon {
        font-size: 2rem;
        width: 56px;
        height: 56px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, rgba(201, 168, 108, 0.2) 0%, rgba(139, 115, 85, 0.2) 100%);
        border-radius: 12px;
    }
    
    .stat-content {
        display: flex;
        flex-direction: column;
    }
    
    .stat-value {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--text-primary, #3D3D3D);
    }
    
    .stat-label {
        font-size: 0.875rem;
        color: var(--text-secondary, #7A7A7A);
    }
    
    .content-card {
        background: var(--bg-surface, #FAF7F2);
        border-radius: 16px;
        padding: 1.5rem;
        box-shadow: 0 4px 20px rgba(139, 115, 85, 0.1);
    }
    
    .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
    }
    
    .card-header h3 {
        margin: 0;
    }
    
    .table-container {
        overflow-x: auto;
    }
    
    .styled-table {
        width: 100%;
        border-collapse: collapse;
    }
    
    .styled-table thead th {
        text-align: left;
        padding: 1rem;
        background: linear-gradient(135deg, #C9A86C 0%, #8B7355 100%);
        color: white;
        font-weight: 500;
    }
    
    .styled-table thead th:first-child {
        border-radius: 12px 0 0 0;
    }
    
    .styled-table thead th:last-child {
        border-radius: 0 12px 0 0;
    }
    
    .styled-table tbody td {
        padding: 1rem;
        border-bottom: 1px solid rgba(139, 115, 85, 0.1);
    }
    
    .styled-table tbody tr:hover {
        background: rgba(201, 168, 108, 0.08);
    }
    
    .user-cell {
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }
    
    .user-avatar-sm {
        width: 36px;
        height: 36px;
        background: linear-gradient(135deg, #C9A86C 0%, #8B7355 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 600;
        font-size: 0.875rem;
    }
    
    .badge {
        padding: 0.375rem 0.75rem;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 500;
    }
    
    .role-admin {
        background: rgba(139, 115, 85, 0.2);
        color: #8B7355;
    }
    
    .role-user {
        background: rgba(201, 168, 108, 0.2);
        color: #C9A86C;
    }
    
    .status-badge {
        padding: 0.375rem 0.75rem;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 500;
    }
    
    .status-badge.active {
        background: rgba(76, 175, 80, 0.2);
        color: #388E3C;
    }
    
    .status-badge.inactive {
        background: rgba(158, 158, 158, 0.2);
        color: #757575;
    }
    
    .empty-state {
        text-align: center;
        color: var(--text-secondary, #7A7A7A);
        padding: 2rem;
    }
</style>

@code {
    private UserInfo[] _users = [];

    protected override void OnInitialized()
    {
        _users = new UserInfo[]
        {
            new("John Smith", "john.smith@example.com", "Admin", "Active"),
            new("Jane Doe", "jane.doe@example.com", "User", "Active"),
            new("Mike Johnson", "mike.j@example.com", "User", "Inactive"),
            new("Sarah Wilson", "sarah.w@example.com", "Admin", "Active"),
            new("Tom Brown", "tom.b@example.com", "User", "Active")
        };
    }

    public record UserInfo(string Name, string Email, string Role, string Status);
}
